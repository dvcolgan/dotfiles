<!DOCTYPE html>
<html>
    <head>
        <title>Capital Letter Directories</title>
        <meta charset="UTF-8">
        <script src="/static/htmx.min.js"></script>
        <!-- Include highlight.js for code highlighting -->
        <link rel="stylesheet" href="/static/highlight.min.css">
        <script src="/static/highlight.min.js"></script>
        <link rel="stylesheet" href="http://localhost:3333/static/frontend/styles.css">
        <!-- Initial highlight for page load -->
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                hljs.highlightAll();
            });
        </script>
    </head>

    <body class="bg-gray-50 text-gray-800 max-w-7xl mx-auto font-sans">
        <header class="border-b border-gray-200 py-4 mb-6">
            <nav>
                <ul class="flex gap-6">
                    <li>
                        <a href="/" class="text-blue-600 hover:text-blue-800 transition">Recursive Garden</a>
                    </li>
                    <li>
                        <a href="/home" class="text-blue-600 hover:text-blue-800 transition">Home</a>
                    </li>
                </ul>
            </nav>
        </header>
        
        <main class="px-4">
            {% block content %}
            {% endblock content %}
        </main>

        <!-- HTMX event listeners for dynamic content -->
        <script>
            // Re-run highlighting when htmx content is loaded
            document.body.addEventListener('htmx:afterSwap', function(event) {
                // Find all code blocks in the swapped content and highlight them
                const codeBlocks = event.detail.elt.querySelectorAll('pre code');
                codeBlocks.forEach(block => {
                    hljs.highlightElement(block);
                });
            });
            
            // Also handle initial load of htmx content 
            document.body.addEventListener('htmx:load', function() {
                hljs.highlightAll();
            });
        </script>
        <script type="module" src="http://localhost:3333/static/@vite/client"></script>
        <script type="module" src="http://localhost:3333/static/frontend/main.js"></script>
    </body>
</html>